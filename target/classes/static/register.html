<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Register · Neo</title>
  <style>
    :root{--bg:#f6f7f9;--ink:#111827;--primary:#93c5fd;--primary-ink:#0f172a;--accent:#ffd803;--card:#fff;--shadow:6px 6px 0 #111827;--radius:10px;--border:3px solid #111827}
    *{box-sizing:border-box}
    body{font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,sans-serif;margin:40px;color:var(--ink);background:var(--bg);background-image:linear-gradient(90deg,rgba(0,0,0,.04) 1px,transparent 1px),linear-gradient(0deg,rgba(0,0,0,.04) 1px,transparent 1px);background-size:24px 24px}
    .wrap{max-width:720px;margin:0 auto}
    .title{display:inline-block;padding:10px 16px;background:var(--accent);border:var(--border);border-radius:var(--radius);box-shadow:var(--shadow);margin:0 0 20px 0}
    .panel{background:var(--card);border:var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px;margin-bottom:20px}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    input{padding:12px 14px;border:var(--border);border-radius:var(--radius);box-shadow:var(--shadow);outline:none;background:#fff;min-width:240px;width:100%}
    button,.btn{padding:12px 16px;border:var(--border);border-radius:var(--radius);box-shadow:var(--shadow);cursor:pointer;background:var(--primary);color:var(--primary-ink);text-decoration:none;display:inline-block;margin:4px 6px 6px 0}
    .muted{color:#6b7280}
  </style>
</head>
<body>
  <div class="wrap">
    <h1 class="title">Đăng ký</h1>
    <p class="muted"><a class="btn" href="/login.html">Đã có tài khoản? Đăng nhập</a></p>
    <div class="panel">
      <div class="row">
        <input id="email" placeholder="Email" type="email" />
        <input id="password" placeholder="Password" type="password" />
        <input id="firstName" placeholder="First name" />
        <input id="lastName" placeholder="Last name" />
        <button id="btn-register">Register</button>
      </div>
      <div id="msg" class="muted"></div>
    </div>
  </div>
  <script>
    async function fetchJSON(url, options){
      const res = await fetch(url, {headers:{'Content-Type':'application/json'}, ...options});
      const text = await res.text(); let data=null; try{ data=text?JSON.parse(text):null }catch(e){}
      if(!res.ok) throw new Error(data?.error||text||res.statusText); return data;
    }
    document.getElementById('btn-register').onclick = async ()=>{
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value.trim();
      const firstName = document.getElementById('firstName').value.trim();
      const lastName = document.getElementById('lastName').value.trim();
      const msg = document.getElementById('msg'); msg.textContent='';
      try{ await fetchJSON('/api/account/register',{method:'POST', body: JSON.stringify({email,password,firstName,lastName})}); location.href='/login.html'; }
      catch(e){ msg.textContent='Lỗi: '+e.message; }
    };
  </script>
</body>
</html>


